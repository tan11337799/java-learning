# Spring框架

### 谈一下你对Spring的理解？

需要聊到IOC、AOP、容器、生态、基石

**生态：**Spring作为企业级应用开发的轻量级解决方案，提供了很多个子项目共同构成了Spring的生态体系。

**基石：**的各个组件都依托于Spring进行开发，Spring在整个Spring生态环境中是一个基石的地位。

**容器：**Spring容器是Spring的核心，所有bean对象都存储在容器中，并由IOC进行管理。

Spring中最重要的两个特性是**IOC和AOP**。

**IOC和AOP的作用：**

IOC表示的是控制反转，我们原先需要通过new创建对象，通过IOC我们可以将对象的创建和管理都交给IOC容器进行，

AOP叫面向切面编程，我们可以将与业务逻辑无关的代码（比如日志、权限控制、自动管理）以AOP的方式实现，具体可以通过AOP的消息通知，以具体的前置、后置、环绕等不同的环节中添加与业务无关的代码，完成具体的功能。

**IOC容器的实现：**

Spring容器底层是一个bean工厂，容器中bean的实例化，获取，销毁等操作都由这个bean工厂进行管理。具体的话，Spring提供了两个接口用于实现IOC容器。

第一个是使用BeanFactory，这是IOC容器的基本实现，不提供给开发人员使用。

第二个是ApplicationContext，他是beanFactory的子接口，提供给开发人员使用。


spring如何读取Xml文件和注解信息到容器中？



### spring如何读取xml文件和注解信息到容器中（bean的生命周期）？



（1）xml和注解给出了Bean的定义信息，这些信息会被装载在IOC容器中；

（2）在xml、注解和容器之间存在一个接口BeanDefinitionReader，用于加载解析bean的定义信息，将其封装为IoC 容器内部的数据结构。

（3）在容器中存在一个接口BeanDefinition用于存放这些bean的配置元信息。

（4）（扩展点）BeanDefinition通过若干个BeanFactoryPostProcessor解析定义信息中的占位符等内容。

（5）完成bean对象的初始化操作；

（6）获取完整对象送入容器。

> 反射用法重温：
>
> ```java
> //获取Class对象的三种方式（根据是否存在对象、类名使用）
> Class clazz = Class.forName("全路径");
> Class clazz = object.getClass();
> Class clazz = ClassName.Class(); 
> //获取构造器
> Constructor ctor = clazz.getDeclaredConstructor();
> //创建对象
> Object obj = ctor.newInstance();
> //调用方法
> Method method = clazz.getDeclaredMethod();
> method.invoke(obj,*methodParam);
> ```
>



### 接口和抽象类的区别？

**语法上：**

* 接口可以多实现（多继承），抽象类只能单继承；
* 接口的成员变量都是public的，而抽象类没有这一限制；
* 抽象类可以有具体的实现方法，而接口只能有抽象方法；

**本质上：**

* 接口是自上向下的，从上级出发，不需要考虑具体的子类实现；
* 抽象类是自下向上的，是从子类的角度考虑，将子类的共同点抽象成一个抽象类；





### 详细描述一下bean的生命周期？



